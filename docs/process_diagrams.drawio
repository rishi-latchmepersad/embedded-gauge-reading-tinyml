<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/28.1.2 Chrome/138.0.7204.243 Electron/37.4.0 Safari/537.36" version="28.1.2">
  <diagram id="6fHF2__YJ60N_B--ARtN" name="CNN_Model_Process">
    <mxGraphModel dx="1600" dy="920" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2200" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <mxCell id="cnn_title_tech" value="Technical flow (what we do)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontStyle=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="40" y="40" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cnn_title_why" value="High-level guide (why we do it)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontStyle=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="40" y="420" width="360" height="30" as="geometry" />
        </mxCell>

        <mxCell id="cnn_tech_1" value="1) Load labeled samples + GaugeSpec&lt;br&gt;- image path&lt;br&gt;- dial/center/tip labels&lt;br&gt;- min angle, sweep, min/max value" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="40" y="90" width="260" height="160" as="geometry" />
        </mxCell>
        <mxCell id="cnn_tech_2" value="2) Build dial crop box from ellipse labels&lt;br&gt;(cx, cy, rx, ry + padding)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="340" y="90" width="260" height="160" as="geometry" />
        </mxCell>
        <mxCell id="cnn_tech_3" value="3) Crop to ROI + resize with pad + normalize&lt;br&gt;to [0,1]" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="640" y="90" width="260" height="160" as="geometry" />
        </mxCell>
        <mxCell id="cnn_tech_4" value="4) Train/val/test split + optional augmentation&lt;br&gt;(brightness/contrast/saturation/noise/crop-resize)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="940" y="90" width="280" height="160" as="geometry" />
        </mxCell>
        <mxCell id="cnn_tech_5" value="5) Train regressor&lt;br&gt;- compact CNN or MobileNetV2&lt;br&gt;- loss: MSE, metrics: MAE/RMSE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1260" y="90" width="270" height="160" as="geometry" />
        </mxCell>
        <mxCell id="cnn_tech_6" value="6) Evaluate on held-out test set&lt;br&gt;Report MAE/RMSE and compare against baseline" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1570" y="90" width="300" height="160" as="geometry" />
        </mxCell>

        <mxCell id="cnn_why_1" value="Why: start with trustworthy supervision and calibration so model outputs map to real engineering units." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="40" y="470" width="260" height="180" as="geometry" />
        </mxCell>
        <mxCell id="cnn_why_2" value="Why: focus learning on dial pixels, not background clutter. This improves robustness and efficiency." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="340" y="470" width="260" height="180" as="geometry" />
        </mxCell>
        <mxCell id="cnn_why_3" value="Why: preserve geometry (needle angle) while standardizing tensor size for training/inference." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="640" y="470" width="260" height="180" as="geometry" />
        </mxCell>
        <mxCell id="cnn_why_4" value="Why: estimate generalization honestly (split data) and increase tolerance to real-world shifts (augmentation)." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="940" y="470" width="280" height="180" as="geometry" />
        </mxCell>
        <mxCell id="cnn_why_5" value="Why: learn visual features automatically instead of hand-coding every edge/line rule." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1260" y="470" width="270" height="180" as="geometry" />
        </mxCell>
        <mxCell id="cnn_why_6" value="Why: verify true improvement and expose failure modes before deployment to TinyML hardware." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1570" y="470" width="300" height="180" as="geometry" />
        </mxCell>

        <mxCell id="cnn_e1" style="endArrow=block;html=1;strokeColor=#000000;" parent="1" source="cnn_tech_1" target="cnn_tech_2" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cnn_e2" style="endArrow=block;html=1;strokeColor=#000000;" parent="1" source="cnn_tech_2" target="cnn_tech_3" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cnn_e3" style="endArrow=block;html=1;strokeColor=#000000;" parent="1" source="cnn_tech_3" target="cnn_tech_4" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cnn_e4" style="endArrow=block;html=1;strokeColor=#000000;" parent="1" source="cnn_tech_4" target="cnn_tech_5" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cnn_e5" style="endArrow=block;html=1;strokeColor=#000000;" parent="1" source="cnn_tech_5" target="cnn_tech_6" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>

        <mxCell id="cnn_w1" style="dashed=1;endArrow=none;html=1;strokeColor=#d79b00;" parent="1" source="cnn_tech_1" target="cnn_why_1" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cnn_w2" style="dashed=1;endArrow=none;html=1;strokeColor=#d79b00;" parent="1" source="cnn_tech_2" target="cnn_why_2" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cnn_w3" style="dashed=1;endArrow=none;html=1;strokeColor=#d79b00;" parent="1" source="cnn_tech_3" target="cnn_why_3" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cnn_w4" style="dashed=1;endArrow=none;html=1;strokeColor=#d79b00;" parent="1" source="cnn_tech_4" target="cnn_why_4" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cnn_w5" style="dashed=1;endArrow=none;html=1;strokeColor=#d79b00;" parent="1" source="cnn_tech_5" target="cnn_why_5" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cnn_w6" style="dashed=1;endArrow=none;html=1;strokeColor=#d79b00;" parent="1" source="cnn_tech_6" target="cnn_why_6" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="classicalCVBaseline01" name="Classical_CV_Baseline_Process">
    <mxGraphModel dx="1700" dy="950" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2300" pageHeight="1300" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <mxCell id="cv_title_tech" value="Technical flow (what we do)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontStyle=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="40" y="40" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cv_title_why" value="High-level guide (why we do it)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontStyle=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="40" y="460" width="360" height="30" as="geometry" />
        </mxCell>

        <mxCell id="cv_tech_1" value="1) Input gauge image&lt;br&gt;from dataset/camera" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="40" y="90" width="230" height="170" as="geometry" />
        </mxCell>
        <mxCell id="cv_tech_2" value="2) Preprocess image&lt;br&gt;- grayscale&lt;br&gt;- CLAHE contrast normalization&lt;br&gt;- Gaussian blur" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="300" y="90" width="260" height="170" as="geometry" />
        </mxCell>
        <mxCell id="cv_tech_3" value="3) Extract edges with Canny" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="590" y="90" width="220" height="170" as="geometry" />
        </mxCell>
        <mxCell id="cv_tech_4" value="4) Restrict to dial annulus (ring mask)&lt;br&gt;Reject center hub and outer frame clutter" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="840" y="90" width="280" height="170" as="geometry" />
        </mxCell>
        <mxCell id="cv_tech_5" value="5) Detect line segments with probabilistic Hough transform" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1150" y="90" width="280" height="170" as="geometry" />
        </mxCell>
        <mxCell id="cv_tech_6" value="6) Score candidates&lt;br&gt;- favor long segments&lt;br&gt;- favor midpoint near dial center&lt;br&gt;- choose tip farther from center" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1460" y="90" width="300" height="170" as="geometry" />
        </mxCell>
        <mxCell id="cv_tech_7" value="7) Convert needle direction to value&lt;br&gt;atan2 -&gt; shift by min angle -&gt; divide by sweep -&gt; clamp -&gt; scale to min/max units" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="1790" y="90" width="360" height="170" as="geometry" />
        </mxCell>

        <mxCell id="cv_why_1" value="Why: define the raw observation we are trying to interpret (needle orientation in pixels)." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="40" y="510" width="230" height="200" as="geometry" />
        </mxCell>
        <mxCell id="cv_why_2" value="Why: improve signal quality before detection; cleaner images create more reliable edge maps." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="300" y="510" width="260" height="200" as="geometry" />
        </mxCell>
        <mxCell id="cv_why_3" value="Why: reduce image to meaningful boundaries so geometry algorithms work on structure, not texture/color." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="590" y="510" width="220" height="200" as="geometry" />
        </mxCell>
        <mxCell id="cv_why_4" value="Why: focus only where needle should be; removing irrelevant edges lowers false detections." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="840" y="510" width="280" height="200" as="geometry" />
        </mxCell>
        <mxCell id="cv_why_5" value="Why: generate multiple plausible needle hypotheses instead of committing too early." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1150" y="510" width="280" height="200" as="geometry" />
        </mxCell>
        <mxCell id="cv_why_6" value="Why: choose the hypothesis that best matches expected needle geometry (long, central, radial)." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1460" y="510" width="300" height="200" as="geometry" />
        </mxCell>
        <mxCell id="cv_why_7" value="Why: convert pixel direction into calibrated engineering units so output is physically meaningful." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1790" y="510" width="360" height="200" as="geometry" />
        </mxCell>

        <mxCell id="cve1" style="endArrow=block;html=1;strokeColor=#000000;" parent="1" source="cv_tech_1" target="cv_tech_2" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cve2" style="endArrow=block;html=1;strokeColor=#000000;" parent="1" source="cv_tech_2" target="cv_tech_3" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cve3" style="endArrow=block;html=1;strokeColor=#000000;" parent="1" source="cv_tech_3" target="cv_tech_4" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cve4" style="endArrow=block;html=1;strokeColor=#000000;" parent="1" source="cv_tech_4" target="cv_tech_5" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cve5" style="endArrow=block;html=1;strokeColor=#000000;" parent="1" source="cv_tech_5" target="cv_tech_6" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cve6" style="endArrow=block;html=1;strokeColor=#000000;" parent="1" source="cv_tech_6" target="cv_tech_7" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>

        <mxCell id="cvw1" style="dashed=1;endArrow=none;html=1;strokeColor=#d79b00;" parent="1" source="cv_tech_1" target="cv_why_1" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cvw2" style="dashed=1;endArrow=none;html=1;strokeColor=#d79b00;" parent="1" source="cv_tech_2" target="cv_why_2" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cvw3" style="dashed=1;endArrow=none;html=1;strokeColor=#d79b00;" parent="1" source="cv_tech_3" target="cv_why_3" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cvw4" style="dashed=1;endArrow=none;html=1;strokeColor=#d79b00;" parent="1" source="cv_tech_4" target="cv_why_4" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cvw5" style="dashed=1;endArrow=none;html=1;strokeColor=#d79b00;" parent="1" source="cv_tech_5" target="cv_why_5" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cvw6" style="dashed=1;endArrow=none;html=1;strokeColor=#d79b00;" parent="1" source="cv_tech_6" target="cv_why_6" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
        <mxCell id="cvw7" style="dashed=1;endArrow=none;html=1;strokeColor=#d79b00;" parent="1" source="cv_tech_7" target="cv_why_7" edge="1"><mxGeometry relative="1" as="geometry" /></mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
